<div class="spaces-page">
	<div class="page-header">
		<h1>Spaces Management</h1>
		<button pButton label="Create Space" icon="pi pi-plus" (click)="openCreateDialog()"></button>
	</div>

	<p-table
		[value]="spaces"
		[loading]="loading"
		[paginator]="true"
		[rows]="10"
		[showCurrentPageReport]="true"
		currentPageReportTemplate="Showing {first} to {last} of {totalRecords} spaces"
		styleClass="p-datatable-striped"
	>
		<ng-template pTemplate="header">
			<tr>
				<th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
				<th pSortableColumn="created">Created <p-sortIcon field="created"></p-sortIcon></th>
				<th style="width: 150px">Actions</th>
			</tr>
		</ng-template>

		<ng-template pTemplate="body" let-space>
			<tr>
				<td>{{ space.name }}</td>
				<td>{{ formatDate(space.created) }}</td>
				<td>
					<div class="action-buttons">
						<button
							pButton
							icon="pi pi-pencil"
							class="p-button-rounded p-button-text p-button-sm"
							pTooltip="Edit Space"
							(click)="openEditDialog(space)"
						></button>
						<button
							pButton
							icon="pi pi-trash"
							class="p-button-rounded p-button-text p-button-sm p-button-danger"
							pTooltip="Delete Space"
							(click)="deleteSpace(space)"
						></button>
					</div>
				</td>
			</tr>
		</ng-template>

		<ng-template pTemplate="emptymessage">
			<tr>
				<td colspan="3" class="text-center">
					<div class="empty-state">
						<i class="pi pi-inbox" style="font-size: 3rem; color: var(--text-color-secondary);"></i>
						<p>No spaces found</p>
						<button pButton label="Create Your First Space" icon="pi pi-plus" (click)="openCreateDialog()"></button>
					</div>
				</td>
			</tr>
		</ng-template>
	</p-table>
</div>

<p-confirmDialog></p-confirmDialog>
<p-toast></p-toast>
