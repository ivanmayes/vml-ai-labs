// Angular Material Component Overrides
// Map Material components to use CSS custom properties

// Material Core
.mat-app-background {
  background-color: var(--theme-background);
  color: var(--theme-text-primary);
}

// Buttons
.mat-mdc-button,
.mat-mdc-outlined-button,
.mat-mdc-raised-button,
.mat-mdc-flat-button,
.mat-mdc-stroked-button {
  --mdc-text-button-label-text-color: var(--theme-primary);
  --mdc-outlined-button-label-text-color: var(--theme-primary);
  --mdc-protected-button-label-text-color: var(--theme-on-primary);
  --mdc-filled-button-label-text-color: var(--theme-on-primary);
  
  &.mat-primary {
    --mdc-text-button-label-text-color: var(--theme-primary);
    --mdc-protected-button-container-color: var(--theme-primary);
    --mdc-filled-button-container-color: var(--theme-primary);
    --mdc-outlined-button-label-text-color: var(--theme-primary);
  }
  
  &.mat-accent {
    --mdc-text-button-label-text-color: var(--theme-secondary);
    --mdc-protected-button-container-color: var(--theme-secondary);
    --mdc-filled-button-container-color: var(--theme-secondary);
    --mdc-outlined-button-label-text-color: var(--theme-secondary);
  }
  
  &.mat-warn {
    --mdc-text-button-label-text-color: var(--theme-error);
    --mdc-protected-button-container-color: var(--theme-error);
    --mdc-filled-button-container-color: var(--theme-error);
    --mdc-outlined-button-label-text-color: var(--theme-error);
  }
  
  &:disabled {
    opacity: var(--opacity-disabled);
  }
}

// Icon Buttons
.mat-mdc-icon-button {
  color: var(--theme-text-secondary);
  
  &.mat-primary {
    color: var(--theme-primary);
  }
  
  &.mat-accent {
    color: var(--theme-secondary);
  }
  
  &.mat-warn {
    color: var(--theme-error);
  }
}

// Cards
.mat-mdc-card {
  background-color: var(--theme-card-background);
  color: var(--theme-text-primary);
  box-shadow: var(--theme-elevation-2);
  
  .mat-mdc-card-subtitle {
    color: var(--theme-text-secondary);
  }
}

// Dialogs
.mat-mdc-dialog-container {
  background-color: var(--theme-dialog-background);
  color: var(--theme-text-primary);
  box-shadow: var(--theme-elevation-24);
}

// Dense form fields for app-like feel
.mat-mdc-form-field {
  font-size: var(--font-size-sm);
  --mdc-outlined-text-field-label-text-color: var(--theme-text-secondary);
  --mdc-outlined-text-field-input-text-color: var(--theme-text-primary);
  --mdc-outlined-text-field-outline-color: var(--theme-input-border);
  --mdc-outlined-text-field-hover-outline-color: var(--theme-input-border-hover);
  --mdc-outlined-text-field-focus-outline-color: var(--theme-primary);
  --mdc-outlined-text-field-focus-label-text-color: var(--theme-primary);
  --mdc-outlined-text-field-disabled-outline-color: var(--theme-action-disabled);
  --mdc-outlined-text-field-disabled-label-text-color: var(--theme-text-disabled);
  
  --mdc-filled-text-field-container-color: var(--theme-surface-variant);
  --mdc-filled-text-field-label-text-color: var(--theme-text-secondary);
  --mdc-filled-text-field-input-text-color: var(--theme-text-primary);
  --mdc-filled-text-field-hover-label-text-color: var(--theme-text-primary);
  --mdc-filled-text-field-focus-label-text-color: var(--theme-primary);
  --mdc-filled-text-field-disabled-container-color: var(--theme-action-disabled-background);
  --mdc-filled-text-field-disabled-label-text-color: var(--theme-text-disabled);
  
  .mat-mdc-form-field-hint {
    color: var(--theme-text-hint);
  }
  
  .mat-mdc-form-field-error {
    color: var(--theme-error);
  }
}

// Input
.mat-mdc-input-element {
  color: var(--theme-input-text);
  caret-color: var(--theme-primary);
  
  &::placeholder {
    color: var(--theme-input-placeholder);
  }
  
  &:disabled {
    color: var(--theme-text-disabled);
  }
}

// Select
.mat-mdc-select {
  color: var(--theme-text-primary);
  
  .mat-mdc-select-value {
    color: var(--theme-text-primary);
  }
  
  .mat-mdc-select-placeholder {
    color: var(--theme-text-hint);
  }
  
  .mat-mdc-select-arrow {
    color: var(--theme-text-secondary);
  }
  
  &.mat-mdc-select-disabled {
    .mat-mdc-select-value,
    .mat-mdc-select-arrow {
      color: var(--theme-text-disabled);
    }
  }
}

.mat-mdc-select-panel {
  background: var(--theme-menu-background);
  
  .mat-mdc-option {
    color: var(--theme-text-primary);
    
    &:hover:not(.mat-mdc-option-disabled) {
      background: var(--theme-action-hover);
    }
    
    &.mat-mdc-option-selected:not(.mat-mdc-option-disabled) {
      background: var(--theme-action-selected);
    }
    
    &.mat-mdc-option-disabled {
      color: var(--theme-text-disabled);
    }
  }
}

// Checkbox
.mat-mdc-checkbox {
  --mdc-checkbox-unselected-icon-color: var(--theme-text-secondary);
  --mdc-checkbox-selected-icon-color: var(--theme-on-primary);
  --mdc-checkbox-selected-checkmark-color: var(--theme-on-primary);
  
  &.mat-primary {
    --mdc-checkbox-selected-icon-color: var(--theme-primary);
    --mdc-checkbox-selected-checkmark-color: var(--theme-on-primary);
  }
  
  &.mat-accent {
    --mdc-checkbox-selected-icon-color: var(--theme-secondary);
    --mdc-checkbox-selected-checkmark-color: var(--theme-on-secondary);
  }
  
  &.mat-warn {
    --mdc-checkbox-selected-icon-color: var(--theme-error);
    --mdc-checkbox-selected-checkmark-color: var(--theme-on-error);
  }
}

// Radio Button
.mat-mdc-radio-button {
  --mdc-radio-unselected-icon-color: var(--theme-text-secondary);
  
  &.mat-primary {
    --mdc-radio-selected-icon-color: var(--theme-primary);
  }
  
  &.mat-accent {
    --mdc-radio-selected-icon-color: var(--theme-secondary);
  }
  
  &.mat-warn {
    --mdc-radio-selected-icon-color: var(--theme-error);
  }
}

// Slide Toggle
.mat-mdc-slide-toggle {
  --mdc-switch-unselected-handle-color: var(--palette-gray-50);
  --mdc-switch-unselected-track-color: var(--palette-gray-400);
  --mdc-switch-unselected-hover-track-color: var(--palette-gray-500);
  
  &.mat-primary {
    --mdc-switch-selected-handle-color: var(--theme-primary);
    --mdc-switch-selected-track-color: var(--theme-primary-container);
  }
  
  &.mat-accent {
    --mdc-switch-selected-handle-color: var(--theme-secondary);
    --mdc-switch-selected-track-color: var(--theme-secondary-container);
  }
  
  &.mat-warn {
    --mdc-switch-selected-handle-color: var(--theme-error);
    --mdc-switch-selected-track-color: var(--theme-error-container);
  }
}

// Progress Bar
.mat-mdc-progress-bar {
  --mdc-linear-progress-active-indicator-color: var(--theme-primary);
  --mdc-linear-progress-track-color: var(--theme-primary-container);
  
  &.mat-accent {
    --mdc-linear-progress-active-indicator-color: var(--theme-secondary);
    --mdc-linear-progress-track-color: var(--theme-secondary-container);
  }
  
  &.mat-warn {
    --mdc-linear-progress-active-indicator-color: var(--theme-error);
    --mdc-linear-progress-track-color: var(--theme-error-container);
  }
}

// Progress Spinner
.mat-mdc-progress-spinner {
  --mdc-circular-progress-active-indicator-color: var(--theme-primary);
  
  &.mat-accent {
    --mdc-circular-progress-active-indicator-color: var(--theme-secondary);
  }
  
  &.mat-warn {
    --mdc-circular-progress-active-indicator-color: var(--theme-error);
  }
}

// Toolbar
.mat-toolbar {
  background-color: var(--theme-surface);
  color: var(--theme-text-primary);
  
  &.mat-primary {
    background-color: var(--theme-primary);
    color: var(--theme-on-primary);
  }
  
  &.mat-accent {
    background-color: var(--theme-secondary);
    color: var(--theme-on-secondary);
  }
  
  &.mat-warn {
    background-color: var(--theme-error);
    color: var(--theme-on-error);
  }
}

// Sidenav
.mat-drawer {
  background-color: var(--theme-surface);
  color: var(--theme-text-primary);
  border-right: 1px solid var(--theme-divider);
}

.mat-drawer-backdrop {
  background-color: var(--palette-black-alpha-54);
}

// Snackbar
.mat-mdc-snack-bar-container {
  --mdc-snackbar-container-color: var(--theme-snackbar-background);
  --mdc-snackbar-supporting-text-color: var(--theme-snackbar-text);
  
  .mat-mdc-button {
    --mdc-text-button-label-text-color: var(--theme-primary);
  }
}

// Tooltip
.mat-mdc-tooltip {
  background-color: var(--theme-tooltip-background);
  color: var(--theme-tooltip-text);
}

// Menu
.mat-mdc-menu-panel {
  background-color: var(--theme-menu-background);
  box-shadow: var(--theme-elevation-8);
  
  .mat-mdc-menu-item {
    color: var(--theme-text-primary);
    
    &:hover:not([disabled]) {
      background-color: var(--theme-action-hover);
    }
    
    &[disabled] {
      color: var(--theme-text-disabled);
    }
    
    .mat-icon {
      color: var(--theme-text-secondary);
    }
  }
}

// List
.mat-mdc-list {
  .mat-mdc-list-item {
    color: var(--theme-text-primary);
    
    &:hover {
      background-color: var(--theme-action-hover);
    }
    
    &.mat-mdc-list-item-disabled {
      color: var(--theme-text-disabled);
    }
  }
  
  .mat-mdc-list-item-title {
    color: var(--theme-text-primary);
  }
  
  .mat-mdc-list-item-line {
    color: var(--theme-text-secondary);
  }
}

// Table
.mat-mdc-table {
  background-color: var(--theme-surface);
  
  .mat-mdc-header-cell {
    color: var(--theme-text-secondary);
    border-bottom-color: var(--theme-divider);
  }
  
  .mat-mdc-cell {
    color: var(--theme-text-primary);
    border-bottom-color: var(--theme-divider);
  }
  
  .mat-mdc-row:hover {
    background-color: var(--theme-action-hover);
  }
}

// Paginator
.mat-mdc-paginator {
  background-color: var(--theme-surface);
  color: var(--theme-text-secondary);
  
  .mat-mdc-paginator-icon {
    fill: var(--theme-text-secondary);
  }
}

// Tabs
.mat-mdc-tab-group {
  .mat-mdc-tab {
    color: var(--theme-text-secondary);
    
    &.mat-mdc-tab-label-active {
      color: var(--theme-primary);
    }
  }
  
  .mat-mdc-tab-header {
    border-bottom: 1px solid var(--theme-divider);
  }
  
  .mat-ink-bar {
    background-color: var(--theme-primary);
  }
}

// Chips
.mat-mdc-chip {
  --mdc-chip-label-text-color: var(--theme-text-primary);
  --mdc-chip-elevated-container-color: var(--theme-surface-variant);
  --mdc-chip-elevated-disabled-container-color: var(--theme-action-disabled-background);
  --mdc-chip-disabled-label-text-color: var(--theme-text-disabled);
  
  &.mat-mdc-chip-selected {
    --mdc-chip-elevated-container-color: var(--theme-primary-container);
    --mdc-chip-label-text-color: var(--theme-on-primary-container);
  }
}

// Expansion Panel
.mat-expansion-panel {
  background-color: var(--theme-surface);
  color: var(--theme-text-primary);
  box-shadow: var(--theme-elevation-2);
  
  .mat-expansion-panel-header {
    color: var(--theme-text-primary);
    
    &:hover:not(.mat-expanded) {
      background-color: var(--theme-action-hover);
    }
  }
  
  .mat-expansion-panel-header-title {
    color: var(--theme-text-primary);
  }
  
  .mat-expansion-panel-header-description {
    color: var(--theme-text-secondary);
  }
}

// Badge
.mat-badge-content {
  background-color: var(--theme-error);
  color: var(--theme-on-error);
  
  &.mat-badge-accent {
    background-color: var(--theme-secondary);
    color: var(--theme-on-secondary);
  }
  
  &.mat-badge-warn {
    background-color: var(--theme-error);
    color: var(--theme-on-error);
  }
}

// Divider
.mat-divider {
  border-top-color: var(--theme-divider);
}

// Focus indicator
.mat-mdc-focus-indicator::before {
  border-color: var(--theme-focus-ring-color);
}